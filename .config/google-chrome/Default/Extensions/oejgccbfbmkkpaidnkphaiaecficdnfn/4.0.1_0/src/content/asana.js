const l=()=>{const t=document.querySelector(".ProjectPageHeaderProjectTitle-container");return t?t.textContent.replace(/\u00a0/g," ").trim():""};togglbutton.render(".BoardCardLayout:not(.toggl)",{observe:!0},t=>{if(t.querySelector(".toggl-button"))return;const r=()=>t.querySelector(".BoardCard-taskName").textContent.trim(),n=togglbutton.createTimerLink({className:"asana-board-view",description:r,buttonType:"minimal",projectName:l}),c=t.querySelector(".BoardCardLayout-actionButtons");c&&c.insertAdjacentElement("afterbegin",n)});togglbutton.render(".SpreadsheetRow .SpreadsheetTaskName:not(.toggl)",{observe:!0},function(t){const r=t.closest(".SpreadsheetRow");if(r.querySelector(".toggl-button"))return;const n=()=>t.querySelector("textarea").textContent.trim(),c=()=>{const e=r.querySelector(".SpreadsheetTaskRow-projectsCell");if(!e)return l();const o=e.querySelector(".Pill");return o?o.textContent.trim():l()},i=()=>[...r.querySelectorAll(".SpreadsheetTaskRow-tagsCell .Pill")].map(o=>o.textContent.trim()),a=togglbutton.createTimerLink({className:"asana-spreadsheet",description:n,projectName:c,tags:i,buttonType:"minimal"});t.insertAdjacentElement("afterend",a)});togglbutton.render(".MyTasksTaskRow:not(.toggl)",{observe:!0},function(t){if(t.querySelector(".toggl-button"))return;const r=()=>t.querySelector(".TaskName textarea").textContent,n=o=>{const s=[...t.querySelectorAll(".Pill")].map(u=>u.textContent.trim());if(o==="project")return s.length?s:"";if(o==="tags")return s.length>1?s.slice(1):[]},c=()=>n("project"),i=()=>n("tags"),a=togglbutton.createTimerLink({className:"asana-new-ui",description:r,projectName:c,tags:i,buttonType:"minimal"}),e=document.createElement("div");e.style.margin="3px 0 0 4px",e.appendChild(a),t.appendChild(e)});togglbutton.render(".TaskPane:not(.toggl)",{observe:!0},t=>{if(t.querySelector(".toggl-button"))return;const r=()=>t.querySelector(".TaskPaneTitle textarea").textContent.trim(),n=()=>{const e=t.querySelector(".TokenizerPillBase-name");return e?e.textContent.trim():""},c=()=>[...t.querySelectorAll(".TokenizerPillBase-name")].map(o=>o.textContent.trim()),i=togglbutton.createTimerLink({className:"TaskPaneToolbar-button",description:r,projectName:n,buttonType:"minimal",tags:c}),a=t.querySelector(".TaskPaneExtraActionsButton");a&&a.parentNode.insertBefore(i,a.nextSibling)});
