togglbutton.render("div.taskRHS:not(.toggl), div.row-rightElements:not(.toggl)",{observe:!0},function(t){let s,e=!1;const o="huh";let i=$(".taskIcons",t);const r=$(".w-header-titles__project-name a").textContent.trim();if(i===null&&(i=$(".task-options",t),e=!0,i===null)){t.classList.remove("toggl");return}if($(".taskName",t)===null)if($("p.task-name a",t.parentElement)!==null)s=$("p.task-name a",t.parentElement).textContent;else return;else s=$(".taskName",t).textContent;const n=togglbutton.createTimerLink({className:"teamwork",description:s,projectName:r});e?n.classList.add("option"):(n.classList.add(o),n.addEventListener("click",function(){let c,l;const d=document.querySelectorAll(".toggl-button");for(c=0,l=d.length;c<l;c+=1)d[c].classList.add("huh");n.classList.contains(o)?n.classList.remove(o):n.classList.add(o)}));const a=document.createElement("span");a.classList.add("toggl-span"),n.style.width="auto",e?(n.style.paddingLeft="25px",n.style.transform="scale(1)",n.style.fontSize="13px",n.style.marginRight="10px"):n.style.paddingLeft="20px",n.setAttribute("title","Toggl Timer"),a.appendChild(n),e?i.insertBefore(a,i.parentElement.querySelector(".task-options > a:not(.active)")):i.insertBefore(a,i.lastChild)});togglbutton.render("section.inbox--body header.ticket--header:not(.toggl)",{observe:!0},function(t){const s=$(".title-label",t),e=$(".id-hold",t).textContent,o=$("a",t).textContent,i=function(){return e.trim()+" "+o.trim()},r=togglbutton.createTimerLink({className:"teamwork",buttonType:"minimal",description:i});s.appendChild(r)});togglbutton.render(".ticket-view-page__main-content:not(.toggl)",{observe:!0},function(t){const s=$(".title",t),e=$(".ticket-id",t).textContent,o=$(".title__subject",t).textContent,i=function(){return e.trim()+" "+o.trim()},r=togglbutton.createTimerLink({className:"teamwork",buttonType:"minimal",description:i});r.style.margin="3px 0 0 7px",s.appendChild(r)});togglbutton.render(".task-groupHold-wrapper .task-row .row-content-holder:not(.toggl), .s-project-task__tasklist .row-content-holder:not(.toggl)",{observe:!0},function(t){const s=()=>t.querySelector(".w-task-row__name > a");if(!s())return;const e=togglbutton.createTimerLink({className:"teamwork",buttonType:"minimal",description:()=>s().textContent.trim(),projectName:()=>{const o=$(".w-header-titles__project-name a");return o?o.textContent.trim():""}});Object.assign(e.style,{backgroundSize:"16px",marginTop:"7px",marginLeft:"2px"}),e.setAttribute("data-content","Toggl Button"),e.classList.add("w-task-row__option","integration--hide","tipped-delegate","show-on-mouseenter"),t.appendChild(e)});togglbutton.render(".ticket-view-page--container:not(.toggl)",{observe:!0},function(t){const s=$(".title-container",t),e=$(".ticket-id",t).textContent,o=$(".title__subject",t).textContent,i=function(){return e.trim()+" "+o.trim()},r=togglbutton.createTimerLink({className:"teamwork",buttonType:"minimal",description:i});r.style.margin="3px 0 0 7px",s.appendChild(r)});
