const a=async r=>new Promise(i=>{const o=setInterval(()=>{const t=r.querySelector("#__primerPortalRoot__ bdi"),e=t.parentElement.lastChild;t.textContent&&(clearInterval(o),i(`${e.textContent} ${t.textContent.trim()}`))},1e3)});togglbutton.render("#partial-discussion-sidebar",{observe:!0},function(r){const i=$(".gh-header-number"),o=$(".js-issue-title"),t=$("h1.public strong a, h1.private strong a"),e=$(".discussion-sidebar-item.toggl");if(e){if(e.parentNode.firstChild.classList.contains("toggl"))return;e.parentNode.removeChild(e)}let n=o.textContent;i!==null&&(n=i.textContent+" "+n.trim());const s=document.createElement("div");s.classList.add("discussion-sidebar-item","toggl");const c=togglbutton.createTimerLink({className:"github",description:n,projectName:t&&t.textContent});s.appendChild(c),r.prepend(s)});togglbutton.render('div[role="dialog"]:not(.toggl)',{observe:!0},async function(r){const i=document.querySelector("div[role='navigation'] h1"),o=await a(r),t=document.querySelector("div[data-testid='issue-viewer-metadata-container']"),e=t&&t.querySelector("div[data-testid='sidebar-section']");if(e===null)return;const n=document.createElement("div");n.className=e.className,n.style.paddingLeft="8px";const s=togglbutton.createTimerLink({className:"github",description:o,projectName:i?i.textContent.trim():""});n.appendChild(s),t.prepend(n)});togglbutton.render(".js-project-card-details .js-comment:not(.toggl)",{observe:!0},function(r){const i=$(".js-issue-title"),o=$(".js-project-card-details .project-comment-title-hover span.color-text-tertiary"),t=$("h1.public strong a, h1.private strong a");let e=i.textContent;o!==null&&(e=o.textContent+" "+e.trim());const n=togglbutton.createTimerLink({className:"github",description:e,projectName:t&&t.textContent}),s=createTag("div","discussion-sidebar-item js-discussion-sidebar-item");s.appendChild(n);const c=$(".discussion-sidebar-item");c.parentNode.insertBefore(s,c)});
