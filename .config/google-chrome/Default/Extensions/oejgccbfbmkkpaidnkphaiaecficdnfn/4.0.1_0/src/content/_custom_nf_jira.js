togglbutton.render("#ghx-detail-view [spacing] h1:not(.toggl)",{observe:!0},function(){debugger;({}).DEBUG&&console.info('\u{1F3C3} "Jira 2017 sidebar" rendering');const t=$("#ghx-detail-view"),e=createTag("div","jira-ghx-toggl-button"),o=$("[spacing] h1",t),r=$("[spacing] a",t);$(".bgdPDV");let n=o.textContent;r!==null&&(n=r.textContent+" "+n);const i=togglbutton.createTimerLink({className:"jira2017",description:n,buttonType:"minimal",taskId:(l,a)=>s(c(),l,a),projectName:(l,a)=>d(c(),l,a)});e.appendChild(i),r.parentNode.appendChild(e)});togglbutton.render("#title-heading:not(.toggl)",{observe:!0},function(t){const e=$('[id="title-text"]',t).textContent.trim(),o=togglbutton.createTimerLink({className:"confluence",description:e,taskId:(r,n)=>s(c(),r,n),projectName:(r,n)=>d(c(),r,n)});$("#title-text").appendChild(o)});togglbutton.render(".issue-header-content:not(.toggl)",{observe:!0},function(t){debugger;({}).DEBUG&&console.info('\u{1F3C3} "Jira 2017 issue page" rendering');const e=$("#key-val",t),o=$("#summary-val",t)||"";let r=$(".bgdPDV"),n;o&&(n=o.textContent.trim()),e!==null&&(n&&(n=" "+n),n=e.textContent+n),r===null&&(r=$('[data-test-id="navigation-apps.project-switcher-v2"] button > div:nth-child(2) > div')),r===null&&(r=$("#project-name-val"));const i=togglbutton.createTimerLink({className:"jira2017",description:n,taskId:(a,u)=>s(c(),a,u),projectName:(a,u)=>d(c(),a,u)});i.style.marginLeft="8px";const l=($(".issue-link")||{}).parentElement||($(".aui-nav li")||{}).lastElementChild;l&&l.appendChild(i)});togglbutton.render("#ghx-detail-issue:not(.toggl)",{observe:!0},function(t){debugger;const e=createTag("div","ghx-toggl-button"),o=$('[data-field-id="summary"]',t),r=$(".ghx-fieldname-issuekey a");$(".ghx-project",t);let n=o.textContent;r!==null&&(n=r.textContent+" "+n);const i=togglbutton.createTimerLink({className:"jira",description:n,taskId:(l,a)=>s(c(),l,a),projectName:(l,a)=>d(c(),l,a)});e.appendChild(i),$("#ghx-detail-head").appendChild(e)});togglbutton.render(".issue-header-content:not(.toggl)",{observe:!0},function(t){debugger;let e;const o=$("#key-val",t),r=$("#summary-val",t)||"";$("#project-name-val",t),r&&(e=r.textContent),o!==null&&(e&&(e=" "+e),e=o.textContent+e);const n=togglbutton.createTimerLink({className:"jira",description:e,taskId:(a,u)=>s(c(),a,u),projectName:(a,u)=>d(c(),a,u)}),i=createTag("ul","toolbar-group"),l=createTag("li","toolbar-item");l.appendChild(n),i.appendChild(l),$(".toolbar-split-left").appendChild(i)});const c=()=>{let t="";const e=document.querySelector("#customfield_10206-val");let o=(e&&(t&&(t+=" "),t+=e.textContent.trim()),t.split("-")[0].trim());return o.length>0?o:null};function s(t,e,o){if(t===null)return{};const r=Object.keys(o).filter(i=>o[i].name.startsWith(t));return r.length>0?o[r[0]].id:{}}function g(t,e,o){debugger;if(t===null)return null;const r=Object.keys(o).filter(i=>o[i].name.startsWith(t)),n=r.length>0?o[r[0]].project_id:null;return console.log(n),n}function d(t,e,o){if(t===null)return null;let r=g(t,e,o);const n=Object.keys(e).filter(l=>e[l].id===r),i=n.length>0?e[n[0]].name:null;return console.log(i),i}
