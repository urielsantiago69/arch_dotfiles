togglbutton.render("#ghx-detail-view [spacing] h1:not(.toggl)",{observe:!0},function(){({}).DEBUG&&console.info('\u{1F3C3} "Jira 2017 sidebar" rendering');const n=$("#ghx-detail-view"),t=createTag("div","jira-ghx-toggl-button"),i=$("[spacing] h1",n),e=$("[spacing] a",n),o=$(".bgdPDV");let r=i.textContent;e!==null&&(r=e.textContent+" "+r);const a=togglbutton.createTimerLink({className:"jira2017",description:r,buttonType:"minimal",projectName:o&&o.textContent});t.appendChild(a),e.parentNode.appendChild(t)});togglbutton.render("#jira-issue-header:not(.toggl)",{observe:!0},function(n){const t=n.querySelector('[data-testid="issue.views.issue-base.foundation.breadcrumbs.breadcrumb-current-issue-container"]');let i,e;if(t?(i=t,e=t.parentElement):(e=n.querySelector("[class^=BreadcrumbsContainer]"),i=e.lastElementChild),e.querySelector(".toggl-button")){({}).DEBUG&&console.info('\u{1F6AB} "Jira 2020-01 issue detail" quit rendering early');return}({}).DEBUG&&console.info('\u{1F3C3} "Jira 2020-01 issue detail" rendering');try{const o=togglbutton.createTimerLink({className:"jira2018",description:l(i),projectName:c,container:"#jira-issue-header"});e.appendChild(o)}catch(o){console.log(o)}});const l=n=>()=>{let t="";if(n){const e=n.querySelector("a");e&&(t+=e.textContent.trim())}const i=document.querySelector('h1[data-testid="issue.views.issue-base.foundation.summary.heading"]');return i&&(t&&(t+=" "),t+=i.textContent.trim()),t};function c(){const n="";let t;if(t=$('[data-test-id="navigation-apps.project-switcher-v2"] button > div:nth-child(2) > div'),t||(t=$('a[href^="/browse/"][target=_self]')),t)return t.textContent.trim();if(t=$('[data-testid="rapidboard-breadcrumbs"] a[href*="browse"] span')||$('[data-test-id="rapidboard-breadcrumbs"] a[href*="browse"] span'),t)try{return t.textContent.trim()}catch{return""}if(t=$('[data-test-id="issue.views.issue-base.foundation.breadcrumbs.breadcrumb-current-issue-container"]')||$('[data-testid="issue.views.issue-base.foundation.breadcrumbs.project.container"]'),t){const i=t.parentElement.querySelector('a[href*="browse"] span + span');return i?i.textContent.trim():""}return n}togglbutton.render(".issue-header-content:not(.toggl)",{observe:!0},function(n){({}).DEBUG&&console.info('\u{1F3C3} "Jira 2017 issue page" rendering');const t=$("#key-val",n),i=$("#summary-val",n)||"";let e=$(".bgdPDV"),o;i&&(o=i.textContent.trim()),t!==null&&(o&&(o=" "+o),o=t.textContent+o),e===null&&(e=$('[data-test-id="navigation-apps.project-switcher-v2"] button > div:nth-child(2) > div')),e===null&&(e=$("#project-name-val"));const r=togglbutton.createTimerLink({className:"jira2017",description:o,projectName:e&&e.textContent.trim()});r.style.marginLeft="8px";const a=($(".issue-link")||{}).parentElement||($(".aui-nav li")||{}).lastElementChild;a&&a.appendChild(r)});togglbutton.render("#ghx-detail-issue:not(.toggl)",{observe:!0},function(n){const t=createTag("div","ghx-toggl-button"),i=$('[data-field-id="summary"]',n),e=$(".ghx-fieldname-issuekey a"),o=$(".ghx-project",n);let r=i.textContent;e!==null&&(r=e.textContent+" "+r);const a=togglbutton.createTimerLink({className:"jira",description:r,projectName:o&&o.textContent});t.appendChild(a),$("#ghx-detail-head").appendChild(t)});togglbutton.render(".issue-header-content:not(.toggl)",{observe:!0},function(n){let t;const i=$("#key-val",n),e=$("#summary-val",n)||"",o=$("#project-name-val",n);e&&(t=e.textContent),i!==null&&(t&&(t=" "+t),t=i.textContent+t);const r=togglbutton.createTimerLink({className:"jira",description:t,projectName:o&&o.textContent}),a=createTag("ul","toolbar-group"),s=createTag("li","toolbar-item");s.appendChild(r),a.appendChild(s),$(".toolbar-split-left").appendChild(a)});togglbutton.render("#title-heading:not(.toggl)",{observe:!0},function(n){const i=$('[id="title-text"]',n).textContent.trim(),e=togglbutton.createTimerLink({className:"confluence",description:i});$("#title-text").appendChild(e)});
