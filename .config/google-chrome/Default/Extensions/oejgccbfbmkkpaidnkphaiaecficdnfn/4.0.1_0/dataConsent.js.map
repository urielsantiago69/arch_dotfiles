{"version":3,"file":"dataConsent.js","sources":["../../src/pages/dataConsent/index.ts"],"sourcesContent":["import { Db } from '@src/lib/db';\n\n(() => {\n  if (document !== null) {\n    Db.loadAll();\n\n    document.addEventListener('DOMContentLoaded', async () => {\n      const errorReports = await Db.get('sendErrorReports');\n      const usageStatistics = await Db.get('sendUsageStatistics');\n\n      const errorReportSwitch =\n        document.querySelector<HTMLInputElement>('#error-reports');\n      const usageStatisticsSwitch =\n        document.querySelector<HTMLInputElement>('#usage-statistics');\n\n      if (errorReportSwitch) errorReportSwitch.checked = errorReports;\n\n      if (usageStatisticsSwitch)\n        usageStatisticsSwitch.checked = usageStatistics;\n    });\n\n    document\n      .querySelector('#request-permissions-btn')\n      ?.addEventListener('click', async () => {\n        const errorReports: HTMLInputElement | null =\n          document.querySelector('#error-reports');\n        const usageStatistics: HTMLInputElement | null =\n          document.querySelector('#usage-statistics');\n        const successMessage: HTMLDivElement | null = document.querySelector(\n          '#settings-submitted-msg'\n        );\n\n        if (errorReports)\n          await Db.set('sendErrorReports', errorReports.checked);\n\n        if (usageStatistics)\n          await Db.set('sendUsageStatistics', usageStatistics.checked);\n\n        if (successMessage) successMessage.style.display = 'block';\n\n        const url = chrome.runtime.getURL('src/pages/postInstallLP/index.html');\n\n        await chrome.tabs.update({ url });\n      });\n  }\n})();\n"],"names":["Db","errorReports","usageStatistics","errorReportSwitch","usageStatisticsSwitch","_a","successMessage","url"],"mappings":"6HAEC,IAAM,OACD,WAAa,OACfA,EAAG,QAAQ,EAEF,SAAA,iBAAiB,mBAAoB,SAAY,CACxD,MAAMC,EAAe,MAAMD,EAAG,IAAI,kBAAkB,EAC9CE,EAAkB,MAAMF,EAAG,IAAI,qBAAqB,EAEpDG,EACJ,SAAS,cAAgC,gBAAgB,EACrDC,EACJ,SAAS,cAAgC,mBAAmB,EAE1DD,IAAmBA,EAAkB,QAAUF,GAE/CG,IACFA,EAAsB,QAAUF,EAAA,CACnC,GAEDG,EAAA,SACG,cAAc,0BAA0B,IAD3C,MAAAA,EAEI,iBAAiB,QAAS,SAAY,CAChC,MAAAJ,EACJ,SAAS,cAAc,gBAAgB,EACnCC,EACJ,SAAS,cAAc,mBAAmB,EACtCI,EAAwC,SAAS,cACrD,yBAAA,EAGEL,GACF,MAAMD,EAAG,IAAI,mBAAoBC,EAAa,OAAO,EAEnDC,GACF,MAAMF,EAAG,IAAI,sBAAuBE,EAAgB,OAAO,EAEzDI,IAAgBA,EAAe,MAAM,QAAU,SAEnD,MAAMC,EAAM,OAAO,QAAQ,OAAO,oCAAoC,EAEtE,MAAM,OAAO,KAAK,OAAO,CAAE,IAAAA,CAAK,CAAA,CAAA,GAGxC,GAAG"}