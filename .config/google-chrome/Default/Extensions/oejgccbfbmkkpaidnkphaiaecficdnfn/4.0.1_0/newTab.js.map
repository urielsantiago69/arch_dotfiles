{"version":3,"file":"newTab.js","sources":["../../src/pages/newTab/widgets/TimerWidget.tsx","../../src/ui/icons/ContinueIcon.tsx","../../src/pages/newTab/styles.tsx","../../src/pages/newTab/widgets/Todos.tsx","../../src/pages/newTab/widgets/Clock.tsx","../../src/pages/newTab/widgets/RecentlyTracked.tsx","../../src/services/calendar.ts","../../src/pages/newTab/widgets/CalendarEvents.tsx","../../src/pages/newTab/widgets/Links.tsx","../../src/pages/newTab/Background.tsx","../../src/pages/newTab/components/Greeting.tsx","../../src/pages/newTab/widgets/LoginWidget.tsx","../../src/pages/newTab/components/SurveyBanner.tsx","../../src/pages/newTab/NewTab.tsx","../../src/pages/newTab/index.tsx"],"sourcesContent":["import styled from '@emotion/styled';\nimport { Timer } from '@src/components/timer/Timer';\nimport * as React from 'react';\n\nexport const TimerWidget = () => {\n  return <StyledTimer hideSwitcher heapContext='ntp-default' />;\n};\n\nconst StyledTimer = styled(Timer)`\n  border-radius: 12px;\n  padding: 10px;\n  background-color: #fdece5;\n  width: 100%;\n`;\n","import * as React from 'react';\nimport styled from '@emotion/styled';\n\nexport default function ContinueIcon(props: {\n  title: string;\n  onClick?: (e: React.MouseEvent) => void;\n}) {\n  return (\n    <Wrapper>\n      <Target {...props} />\n      <svg width={12} height={16}>\n        <path d='M0 2C0 0.9 0.8 0.5 1.7 1L11.3 7C12.2 7.5 12.2 8.5 11.3 9L1.7 15C0.8 15.5 0 15.1 0 14L0 2Z' />\n      </svg>\n    </Wrapper>\n  );\n}\n\nconst Wrapper = styled.span`\n  line-height: 0;\n  padding-left: 1px;\n\n  & path {\n    fill: ${({ theme }) => theme.colors.ui.regular};\n    opacity: 0.5;\n  }\n\n  &:hover path {\n    fill: ${({ theme }) => theme.colors.accent.regular};\n    opacity: 1;\n  }\n`;\n\nconst Target = styled.div`\n  position: absolute;\n  width: 12px;\n  height: 16px;\n`;\n","import { css } from '@emotion/react';\nimport styled from '@emotion/styled';\n\nexport const WidgetTitle = styled.span`\n  font-weight: 600;\n  font-size: 16px;\n`;\n\nexport const WidgetDescription = styled.div`\n  line-height: 20px;\n  font-size: 14px;\n`;\n\nexport const scrollbarStyle = theme => css`\n  &::-webkit-scrollbar {\n    width: 2px;\n    background: ${theme.colors.surface_primary.regular};\n  }\n\n  /* Turn off the down area up on top, and up area on bottom */\n  &::-webkit-scrollbar-button:vertical:start:increment,\n  &::-webkit-scrollbar-button:vertical:end:decrement {\n    display: none;\n  }\n\n  /* The thumb itself */\n  &::-webkit-scrollbar-thumb:vertical {\n    background: ${theme.colors.ui_60.regular};\n  }\n`;\n","import * as React from 'react';\nimport styled from '@emotion/styled';\nimport { AddIcon } from '@src/ui/icons/AddIcon';\nimport { useTheme } from '@emotion/react';\nimport { Db } from '@src/lib/db';\nimport { NewTabOnboardingTasks } from '@src/lib/constants';\nimport ContinueIcon from '@src/ui/icons/ContinueIcon';\nimport { TimeEntryRequest, TimeEntryV9 } from '@toggl/track-types';\nimport { useExtensionContext } from '@src/context';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport * as timeEntryService from '@src/services/timeEntry';\nimport * as errorReport from '@src/lib/errorReport';\nimport { Checkbox } from '@src/ui/components/Checkbox';\nimport { DateTime } from 'luxon';\nimport { scrollbarStyle } from '../styles';\nimport { track } from '@src/lib/utils';\n\ntype Todo = {\n  id: number;\n  text: string;\n  complete: boolean;\n  created_at: string;\n};\n\nexport function Todos() {\n  const [todos, setTodos] = React.useState<{ [key: number]: Todo }>({});\n  const queryClient = useQueryClient();\n  const { user } = useExtensionContext();\n\n  const { mutate: startEntry } = useMutation(\n    (entry: TimeEntryRequest) =>\n      timeEntryService.start(entry, { type: 'popup' }),\n    {\n      onMutate: async entry => {\n        await timeEntryService.cancelQuery(queryClient);\n        const previousEntries = timeEntryService.getQueryData(queryClient);\n        timeEntryService.setQueryData(queryClient, old => {\n          const newEntries: Record<number, TimeEntryV9> = {};\n          if (old) {\n            Object.assign(newEntries, old);\n          }\n          newEntries[-1] = { ...entry, id: -1 } as TimeEntryV9;\n          return newEntries;\n        });\n        return { previousEntries };\n      },\n      onError: (err, _, context) => {\n        timeEntryService.setQueryData(queryClient, context?.previousEntries);\n        errorReport.error(err as Error);\n      },\n      onSuccess: (entry, _, context) => {\n        track('start-time-entry', { context: 'ntp-goal' });\n        const entries = {\n          ...context?.previousEntries,\n          [entry.id]: entry,\n        };\n        delete entries[-1];\n        timeEntryService.setQueryData(queryClient, entries);\n      },\n    }\n  );\n\n  const startTimer = (e, description) => {\n    e.preventDefault();\n    if (!user) return;\n    const start = new Date();\n\n    const entry = {\n      at: start.toISOString(),\n      description,\n      duration: -parseInt((start.getTime() / 1000).toFixed(0), 10),\n      start: start.toISOString(),\n      tags: [],\n      tag_ids: [],\n      workspace_id: user.default_workspace_id,\n    } as unknown as TimeEntryRequest;\n\n    startEntry(entry);\n  };\n\n  React.useEffect(() => {\n    const loadTodos = async () => {\n      const onboarded = await Db.get('newTabsPageOnboarded');\n      if (onboarded) {\n        const loadedTodos = await Db.getLocal('newTab-todos');\n        const parsedTodos: Record<number, Todo> = JSON.parse(loadedTodos);\n        const filteredTodos = Object.values(parsedTodos).reduce((acc, todo) => {\n          const todoDate = DateTime.fromISO(todo.created_at);\n          const today = DateTime.now();\n\n          if (today.diff(todoDate, 'days').days < 1 || !todo.complete)\n            acc[todo.id] = todo;\n          return acc;\n        }, {});\n\n        setTodos(filteredTodos);\n      } else {\n        void Db.setLocal('newTab-todos', JSON.stringify(NewTabOnboardingTasks));\n        void Db.set('newTabsPageOnboarded', true);\n        setTodos(NewTabOnboardingTasks);\n      }\n    };\n\n    loadTodos();\n  }, []);\n\n  React.useEffect(() => {\n    if (Object.keys(todos).length > 0)\n      Db.setLocal('newTab-todos', JSON.stringify(todos));\n  }, [todos]);\n\n  const addTodo = (text: string) =>\n    setTodos(oldTodos => {\n      const todosIds = Object.keys(oldTodos);\n      const id = todosIds.length\n        ? Number(todosIds.sort()[todosIds.length - 1]) + 1\n        : 1;\n\n      return {\n        ...oldTodos,\n        [id]: {\n          id,\n          text,\n          complete: false,\n          created_at: DateTime.now().toISO(),\n        },\n      };\n    });\n\n  const toggleTodo = (index: number) => {\n    !todos[index].complete && track('ntp-complete-goal');\n    setTodos(oldTodos => ({\n      ...oldTodos,\n      [index]: {\n        ...oldTodos[index],\n        complete: !oldTodos[index].complete,\n      },\n    }));\n  };\n\n  return (\n    <Root>\n      <AddTodo onAddTodo={addTodo} />\n      <ul>\n        {Object.values(todos)\n          .sort(a => (a.complete ? 1 : -1))\n          .map((todo: Todo) => (\n            <li key={`todo-${todo.id}`}>\n              <Checkbox\n                checked={todo.complete}\n                name={`todo-${todo.id}`}\n                onClick={() => toggleTodo(todo.id)}\n              />\n              <label htmlFor={`todo-${todo.id}`}>{todo.text}</label>\n              <ContinueIcon\n                title='Track task'\n                onClick={e => startTimer(e, todo.text)}\n              />\n            </li>\n          ))}\n      </ul>\n    </Root>\n  );\n}\n\nfunction AddTodo({ onAddTodo }: { onAddTodo: (text: string) => void }) {\n  const [text, setText] = React.useState('');\n  const theme = useTheme();\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    track('ntp-add-goal');\n\n    onAddTodo(text);\n    setText('');\n  };\n\n  return (\n    <Wrapper onSubmit={handleSubmit}>\n      <AddIcon color={theme.colors.ui_50.regular} />\n      <TextInput\n        type='text'\n        placeholder='Add a goal for today'\n        value={text}\n        onChange={e => setText(e.target.value)}\n      />\n    </Wrapper>\n  );\n}\n\nconst Root = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 24px;\n  font-size: 14px;\n  color: ${({ theme }) => theme.colors.ui.regular};\n\n  ul {\n    list-style: none;\n    padding: 0;\n    max-height: 40vh;\n    overflow-y: auto;\n\n    ${({ theme }) => scrollbarStyle(theme)};\n  }\n\n  li {\n    display: flex;\n    padding: 12px 4px;\n    gap: 8px;\n    cursor: pointer;\n    align-items: center;\n\n    input:checked + label {\n      text-decoration: line-through;\n    }\n\n    svg {\n      display: none;\n    }\n\n    input ~ svg {\n      display: flex;\n    }\n\n    &:hover {\n      svg {\n        display: flex;\n      }\n    }\n  }\n`;\n\nconst Wrapper = styled.form`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  height: 36px;\n  padding: 0 15px;\n  gap: 4px;\n  border: 2px solid ${({ theme }) => theme.colors.ui_40.regular};\n  border-radius: 8px;\n  color: ${({ theme }) => theme.colors.ui_60.regular};\n`;\n\nconst TextInput = styled.input`\n  border: none;\n  background: none;\n  outline: none;\n`;\n","import * as React from 'react';\nimport { DateTime } from 'luxon';\nimport styled from '@emotion/styled';\nimport { Todos } from './Todos';\n\nexport function Clock() {\n  const [time, setTime] = React.useState(DateTime.now());\n\n  React.useEffect(() => {\n    const timerId = setInterval(() => setTime(DateTime.now()), 1000);\n\n    return () => clearInterval(timerId);\n  }, []);\n\n  return (\n    <Root>\n      <Date>\n        <div>{time.toFormat(\"cccc',' LLLL d\")}</div>\n        <Week>{`Week ${time.toFormat('W')}`}</Week>\n      </Date>\n      <Time>{time.toLocaleString(DateTime.TIME_SIMPLE)}</Time>\n      <Todos />\n    </Root>\n  );\n}\n\nconst Root = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  min-width: 300px;\n  max-width: 450px;\n  padding: 24px;\n  gap: 24px;\n  border-radius: 12px;\n  background: #fae5f7;\n  color: ${({ theme }) => theme.colors.ui.regular};\n`;\n\nconst Date = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: 600px;\n  font-size: 14px;\n`;\n\nconst Week = styled.div`\n  letter-spacing: 0.04em;\n  text-transform: uppercase;\n  font-size: 11px;\n`;\n\nconst Time = styled.div`\n  font-family: GT Haptik, sans-serif;\n  font-style: normal;\n  font-weight: 700;\n  font-size: 64px;\n`;\n","import styled from '@emotion/styled';\n\nimport { useExtensionContext } from '@src/context';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport {\n  Client,\n  Project,\n  TimeEntryRequest,\n  TimeEntryV9,\n  Workspace,\n} from '@toggl/track-types';\nimport { hslToColorString, parseToHsl } from 'polished';\nimport * as React from 'react';\nimport { FormattedMessage, defineMessages } from 'react-intl';\nimport * as timeEntryService from '@src/services/timeEntry';\nimport * as projectService from '@src/services/project';\nimport * as errorReport from '@src/lib/errorReport';\nimport ContinueIcon from '@src/ui/icons/ContinueIcon';\nimport { WidgetDescription } from '../styles';\nimport { track } from '@src/lib/utils';\nimport { TETooltip } from '@src/components/TETooltip';\n\nconst messages = defineMessages({\n  title: {\n    id: 'newTab.recentlyTracked.title',\n    defaultMessage: 'Recently Tracked',\n  },\n\n  placeholder: {\n    id: 'newTab.recentlyTracked.placeholder',\n    defaultMessage:\n      'No time entries yet.{br} Start the timer above ☝️ and create {br} your first one!',\n  },\n});\n\nconst MOUSEOVER_TIMEOUT = 500;\n\nconst isPropValuesEqual = (subject, target, propNames) =>\n  propNames.every(\n    propName =>\n      `${subject[propName]}`.toLowerCase() ===\n      `${target[propName]}`.toLowerCase()\n  );\n\nconst getUniqueItemsByProperties = (items, propNames) =>\n  items.filter(\n    (item, index, array) =>\n      index ===\n      array.findIndex(foundItem =>\n        isPropValuesEqual(foundItem, item, propNames)\n      )\n  );\n\nexport const RecentlyTracked = () => {\n  const { timeEntries, workspaces, user, refetchEntries } =\n    useExtensionContext();\n\n  const [timeEntriesToShow, setTimeEntriesToShow] = React.useState<\n    TimeEntryV9[]\n  >([]);\n  const queryClient = useQueryClient();\n\n  const { data: projects } = projectService.useProjects();\n  const { data: tasks } = projectService.useTasks();\n  const { data: clients } = projectService.useClients();\n\n  const { mutate: startEntry } = useMutation(\n    (entry: TimeEntryRequest) =>\n      timeEntryService.start(entry, { type: 'popup' }),\n    {\n      onMutate: async entry => {\n        await timeEntryService.cancelQuery(queryClient);\n        const previousEntries = timeEntryService.getQueryData(queryClient);\n        timeEntryService.setQueryData(queryClient, old => {\n          const newEntries: Record<number, TimeEntryV9> = {};\n          if (old) {\n            Object.assign(newEntries, old);\n          }\n          newEntries[-1] = { ...entry, id: -1 } as TimeEntryV9;\n          return newEntries;\n        });\n        return { previousEntries };\n      },\n      onError: (err, _, context) => {\n        timeEntryService.setQueryData(queryClient, context?.previousEntries);\n        errorReport.error(err as Error);\n      },\n      onSuccess: (entry, _, context) => {\n        track('start-time-entry', { context: 'ntp-history' });\n        const entries = {\n          ...context?.previousEntries,\n          [entry.id]: entry,\n        };\n        delete entries[-1];\n        timeEntryService.setQueryData(queryClient, entries);\n      },\n    }\n  );\n\n  const startTimer = (e, te?) => {\n    e.preventDefault();\n    if (!user) return;\n    const start = new Date();\n\n    const entry = {\n      at: start.toISOString(),\n      billable: te.billable,\n      description: te.description,\n      duration: -parseInt((start.getTime() / 1000).toFixed(0), 10),\n      start: start.toISOString(),\n      tags: te.tags ?? [],\n      tag_ids: te.tag_ids ?? [],\n      task_id: te.task_id,\n      project_id: te.project_id,\n      workspace_id: te.workspace_id,\n    } as unknown as TimeEntryRequest;\n\n    startEntry(entry);\n  };\n\n  React.useEffect(() => {\n    if (timeEntries) {\n      const withDescription = Object.values(timeEntries).filter(\n        te => (te.project_id || te.description) && te.stop\n      );\n      const filteredTimeEntries = withDescription;\n      const uniqTimeEntries = getUniqueItemsByProperties(filteredTimeEntries, [\n        'description',\n      ]);\n      const timeEntriesWithoutArchivedProjects = uniqTimeEntries.filter(te => ({\n        ...te,\n        project_id: projects?.[`${te.project_id}`]?.active\n          ? te.project_id\n          : null,\n      }));\n\n      setTimeEntriesToShow(\n        timeEntriesWithoutArchivedProjects.reverse().slice(0, 5)\n      );\n    }\n  }, [clients, projects, tasks, timeEntries]);\n\n  React.useEffect(() => {\n    refetchEntries();\n  }, [refetchEntries]);\n\n  const handleTimeEntryClick = (timeEntry: TimeEntryV9, e) => {\n    startTimer(e, timeEntry);\n  };\n\n  if (!timeEntriesToShow?.length)\n    return (\n      <EmptyStateRoot>\n        <FormattedMessage\n          {...messages.placeholder}\n          tagName={WidgetDescription}\n          values={{ br: <br /> }}\n        />\n      </EmptyStateRoot>\n    );\n\n  return (\n    <Root>\n      <FormattedMessage {...messages.title} tagName={Title} />\n      {!!timeEntriesToShow?.length && (\n        <>\n          {timeEntriesToShow.map(te => (\n            <AutocompleteItem\n              key={`te-${te.id}`}\n              description={te.description}\n              project={projects?.[`${te.project_id}`]}\n              workspace={workspaces?.[`${te.workspace_id}`]}\n              onClick={e => handleTimeEntryClick(te, e)}\n              client={clients?.[`${projects?.[`${te.project_id}`]?.client_id}`]}\n            />\n          ))}\n        </>\n      )}\n    </Root>\n  );\n};\n\ntype AutocompleteItemProps = {\n  description?: string;\n  project?: Project;\n  client?: Client;\n  showClient?: boolean;\n  workspace?: Workspace;\n  onClick: (e: React.MouseEvent<HTMLLIElement>) => void;\n};\n\nconst AutocompleteItem = React.forwardRef<any, AutocompleteItemProps>(\n  function AutocompleteItem({\n    description,\n    project,\n    client,\n    showClient = false,\n    workspace,\n    onClick,\n  }) {\n    const [isHovered, setIsHovered] = React.useState(false);\n    const elementRef = React.useRef<HTMLLIElement>(null);\n\n    let closureTimeout: NodeJS.Timeout | undefined;\n\n    const handleMouseOver = () => {\n      if (closureTimeout) {\n        clearTimeout(closureTimeout);\n      }\n      closureTimeout = setTimeout(() => setIsHovered(true), MOUSEOVER_TIMEOUT);\n    };\n\n    const handleMouseLeave = () => {\n      if (closureTimeout) {\n        clearTimeout(closureTimeout);\n      }\n      closureTimeout = setTimeout(\n        () => setIsHovered(false),\n        MOUSEOVER_TIMEOUT / 2\n      );\n    };\n\n    return (\n      <ItemsContainer>\n        <Item\n          onClick={onClick}\n          onMouseOver={handleMouseOver}\n          onMouseLeave={handleMouseLeave}\n          ref={elementRef}\n          bgColor={(project && project.color) ?? undefined}\n        >\n          {description && (\n            <DescriptionLabel tooltip={false}>{description}</DescriptionLabel>\n          )}\n          {project && (\n            <ProjectLabel color={project.color} tooltip={false}>\n              {project.name}\n            </ProjectLabel>\n          )}\n          {client && showClient && (\n            <ClientLabel tooltip={false}>{client.name}</ClientLabel>\n          )}\n          <ContinueIcon title='Continue entry' />\n        </Item>\n        {isHovered && (\n          <StyledTETooltip\n            description={description}\n            project={project}\n            client={client}\n            workspace={workspace}\n            positionRef={elementRef}\n          />\n        )}\n      </ItemsContainer>\n    );\n  }\n);\n\nconst Root = styled.div`\n  min-width: 200px;\n  max-width: 370px;\n  background-color: #fcf2fb;\n  padding: 24px;\n  border-radius: 12px;\n`;\n\nconst EmptyStateRoot = styled(Root)`\n  text-align: center;\n  gap: 8px;\n  padding: 40px;\n  color: ${({ theme }) => theme.colors.ui_60.regular};\n`;\n\nconst Title = styled.div`\n  letter-spacing: 0.04em;\n  text-transform: uppercase;\n  font-size: 11px;\n  width: 100%;\n  text-align: right;\n  margin-bottom: 4px;\n`;\n\nconst Item = styled.li<{ bgColor?: string }>`\n  height: 36px;\n  line-height: 25px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  gap: 1px;\n  cursor: pointer;\n\n  padding: 8px 12px;\n  margin: 2px 0;\n\n  font-size: 14px;\n  color: ${({ theme }) => theme.colors.ui.regular};\n  text-overflow: ellipsis;\n  overflow: hidden;\n  word-wrap: break-word;\n  background-color: ${({ bgColor, theme }) => {\n    if (bgColor) {\n      const { hue, lightness, saturation } = parseToHsl(\n        bgColor ?? theme.colors.surface_secondary.regular\n      );\n\n      return hslToColorString({\n        hue,\n        saturation: saturation / 1.8,\n        lightness: lightness * 1.8,\n      });\n    } else {\n      return '#e9e7ea';\n    }\n  }};\n\n  svg {\n    display: none;\n    width: 16px;\n    margin-left: 8px;\n  }\n\n  &:hover {\n    svg {\n      display: block;\n    }\n  }\n`;\n\nconst DescriptionLabel = styled.span<{ tooltip: boolean }>`\n  ${props =>\n    !props.tooltip &&\n    `\n  text-overflow: ellipsis;\n  overflow: hidden;\n`}\n\n  margin-right: 25px;\n  white-space: ${props => (props.tooltip ? 'normal' : 'nowrap')};\n  font-size: ${props => (props.tooltip ? '12px' : '14px')};\n  color: ${({ theme }) => theme.colors.ui.regular};\n  font-weight: ${({ theme }) => theme.text.normal};\n`;\n\nconst ProjectLabel = styled.span<{ color: string; tooltip: boolean }>`\n  ${props =>\n    !props.tooltip &&\n    `\n  text-overflow: ellipsis;\n  overflow: hidden;\n  `}\n\n  white-space: ${props => (props.tooltip ? 'normal' : 'nowrap')};\n  font-size: ${props => (props.tooltip ? '12px' : '14px')};\n  font-weight: ${({ theme }) => theme.text.normal};\n  color: ${props => props.color};\n\n  &:before {\n    display: inline-block;\n    margin: 0 8px 0px 4px;\n    line-height: 1;\n\n    content: '•';\n    font-family: Arial, serif;\n    font-size: 30px;\n    font-weight: bold;\n    color: ${props => props.color};\n    vertical-align: middle;\n  }\n`;\n\nconst ClientLabel = styled.span<{ tooltip: boolean }>`\n  font-size: ${props => (props.tooltip ? '12px' : '14px')};\n  color: ${({ theme }) => theme.colors.ui_60.regular};\n  font-weight: ${({ theme }) => theme.text.normal};\n  white-space: ${props => (props.tooltip ? 'normal' : 'nowrap')};\n\n  ${props =>\n    !props.tooltip &&\n    `\n    text-overflow: ellipsis;\n    overflow: hidden;\n    padding-left: 15px;\n    \n    &: before {\n    display: inline-block;\n    margin: 0px 8px 0px 4px;\n    line-height: 1;\n\n    content: '•';\n    font-family: Arial, serif;\n    font-size: 16px;\n    font-weight: bold;\n    color: ${({ theme }) => theme.colors.ui_60.regular};\n    vertical-align: middle;\n  }`}\n`;\n\nconst ItemsContainer = styled.div`\n  width: fit-content;\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n`;\n\nconst StyledTETooltip = styled(TETooltip)`\n  max-width: 200px;\n\n  div[data-placement^='right'] {\n    left: -10px;\n  }\n`;\n","import { useQuery } from '@tanstack/react-query';\n\nimport { sendMessage } from '@src/lib/messaging';\n\nconst fetchTodayEvents = () =>\n  sendMessage({\n    type: 'today-calendar-events',\n    payload: null,\n  });\n\nconst fetchCalendarIntegrations = () =>\n  sendMessage({\n    type: 'fetch-calendars',\n    payload: null,\n  });\n\nexport const useTodayCalendarEvents = () => {\n  return useQuery(['todayCalendarEvents'], fetchTodayEvents, {\n    staleTime: 0,\n  });\n};\n\nexport const useCalendarIntegrations = () => {\n  return useQuery(['calendarIntegrations'], fetchCalendarIntegrations, {\n    staleTime: 0,\n  });\n};\n","import * as React from 'react';\nimport styled from '@emotion/styled';\n\nimport * as calendarService from '@src/services/calendar';\nimport { DateTime } from 'luxon';\nimport {\n  CalendarIntegrationEvent,\n  TimeEntryRequest,\n  TimeEntryV9,\n} from '@toggl/track-types';\nimport { defineMessages, FormattedMessage } from 'react-intl';\nimport { css, useTheme } from '@emotion/react';\nimport { PrimaryButton } from '@src/ui/components';\nimport Browser from 'webextension-polyfill';\nimport ExternalLinkBoxedIcon from '@src/ui/icons/ExternalLinkBoxedIcon';\nimport ContinueIcon from '@src/ui/icons/ContinueIcon';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport * as timeEntryService from '@src/services/timeEntry';\nimport * as errorReport from '@src/lib/errorReport';\nimport { useExtensionContext } from '@src/context';\nimport { scrollbarStyle } from '../styles';\nimport { track } from '@src/lib/utils';\n\nconst messages = defineMessages({\n  title: {\n    id: 'newTab.calendarEvents.title',\n    defaultMessage: `Today's Events`,\n  },\n  link: {\n    id: 'newTab.calendarEvents.link',\n    defaultMessage: 'Open link',\n  },\n  noCalendarIntegrationsTitle: {\n    id: 'newTab.calendarEvents.noCalendarIntegrations',\n    defaultMessage: '🙀 No calendar integration!',\n  },\n  noCalendarIntegrationsDescription: {\n    id: 'newTab.calendarEvents.noCalendarIntegrationsDescription',\n    defaultMessage:\n      'Click on the button below to see your Google or Outlook calendar events on Toggl Track!',\n  },\n  noCalendarIntegrationsButton: {\n    id: 'newTab.calendarEvents.noCalendarIntegrationsButton',\n    defaultMessage: 'Get started!',\n  },\n  placeholder: {\n    id: 'newTab.calendarEvents.placeholder',\n    defaultMessage: '🤩 No meetings today! Enjoy the focus time',\n  },\n});\n\nexport function CalendarEvents() {\n  const theme = useTheme();\n  const { data: todaysEvents } = calendarService.useTodayCalendarEvents();\n  const { data: calendarIntegrations } =\n    calendarService.useCalendarIntegrations();\n\n  if (!calendarIntegrations?.length) return <NoCalendarIntegrations />;\n\n  if (!todaysEvents?.length)\n    return (\n      <Root\n        css={css`\n          text-align: center;\n          padding: 40px;\n          color: ${theme.colors.ui_60.regular};\n        `}\n      >\n        <FormattedMessage {...messages.placeholder} />\n      </Root>\n    );\n\n  return (\n    <Root>\n      <FormattedMessage {...messages.title} tagName={Title} />\n      <EventsContainer>\n        {todaysEvents.map(event => (\n          <CalendarEvent\n            key={`event-${event.calendar_event_id}`}\n            event={event}\n          />\n        ))}\n      </EventsContainer>\n    </Root>\n  );\n}\n\nfunction NoCalendarIntegrations() {\n  return (\n    <Root\n      css={css`\n        justify-content: center;\n        align-items: center;\n        font-size: 14px;\n      `}\n    >\n      <FormattedMessage\n        {...messages.noCalendarIntegrationsTitle}\n        tagName={WidgetTitle}\n      />\n      <FormattedMessage\n        {...messages.noCalendarIntegrationsDescription}\n        tagName={WidgetDescription}\n      />\n      <PrimaryButton\n        data-heap-id='extension:ntp-integrate-cal'\n        onClick={() =>\n          Browser.tabs.create({\n            url: 'https://track.toggl.com/profile#external-calendars',\n          })\n        }\n      >\n        <FormattedMessage {...messages.noCalendarIntegrationsButton} />\n      </PrimaryButton>\n    </Root>\n  );\n}\n\nfunction CalendarEvent({ event }: { event: CalendarIntegrationEvent }) {\n  const theme = useTheme();\n  const queryClient = useQueryClient();\n  const { user } = useExtensionContext();\n\n  const startTime = DateTime.fromISO(event.start_time);\n  const duration = DateTime.fromISO(event.end_time)\n    .diff(startTime, ['hours', 'minutes'])\n    .normalize();\n  const hours =\n    duration.hours && duration.hours > 0 ? `${duration.hours}h ` : '';\n  const minutes =\n    duration.minutes && duration.minutes > 0 ? `${duration.minutes}min` : '';\n\n  const prettyTime = hours + minutes;\n\n  const { mutate: startEntry } = useMutation(\n    (entry: TimeEntryRequest) =>\n      timeEntryService.start(entry, { type: 'popup' }),\n    {\n      onMutate: async entry => {\n        await timeEntryService.cancelQuery(queryClient);\n        const previousEntries = timeEntryService.getQueryData(queryClient);\n        timeEntryService.setQueryData(queryClient, old => {\n          const newEntries: Record<number, TimeEntryV9> = {};\n          if (old) {\n            Object.assign(newEntries, old);\n          }\n          newEntries[-1] = { ...entry, id: -1 } as TimeEntryV9;\n          return newEntries;\n        });\n        return { previousEntries };\n      },\n      onError: (err, _, context) => {\n        timeEntryService.setQueryData(queryClient, context?.previousEntries);\n        errorReport.error(err as Error);\n      },\n      onSuccess: (entry, _, context) => {\n        track('start-time-entry', { context: 'ntp-calendar' });\n        const entries = {\n          ...context?.previousEntries,\n          [entry.id]: entry,\n        };\n        delete entries[-1];\n        timeEntryService.setQueryData(queryClient, entries);\n      },\n    }\n  );\n\n  const startTimer = (e, description) => {\n    e.preventDefault();\n    if (!user) return;\n    const start = new Date();\n\n    const entry = {\n      at: start.toISOString(),\n      description,\n      duration: -parseInt((start.getTime() / 1000).toFixed(0), 10),\n      start: start.toISOString(),\n      tags: [],\n      tag_ids: [],\n      workspace_id: user.default_workspace_id,\n    } as unknown as TimeEntryRequest;\n\n    startEntry(entry);\n  };\n\n  return (\n    <Event>\n      <MainInfo>\n        <Time>{startTime.toLocaleString(DateTime.TIME_SIMPLE)}</Time>\n        <EventTitle>{event.title}</EventTitle>\n      </MainInfo>\n      <Details>\n        <Label>{prettyTime}</Label>\n        <div>\n          <ContinueIcon\n            title='Start entry'\n            onClick={e => startTimer(e, event.title)}\n          />\n          <a\n            target='_blank'\n            tabIndex={-1}\n            href={event.html_link}\n            rel='noreferrer'\n          >\n            <ExternalLinkBoxedIcon color={theme.colors.ui_50.regular} />\n          </a>\n        </div>\n      </Details>\n    </Event>\n  );\n}\n\nconst Root = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-width: 180px;\n  padding: 24px;\n  gap: 24px;\n  border-radius: 12px;\n  background: #fff8e9;\n  font-size: 14px;\n  color: ${({ theme }) => theme.colors.ui.regular};\n`;\n\nconst EventsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  height: 100%;\n  overflow-y: auto;\n  max-height: 41vh;\n  ${({ theme }) => scrollbarStyle(theme)}\n`;\n\nconst Title = styled.div`\n  letter-spacing: 0.04em;\n  text-transform: uppercase;\n  font-size: 11px;\n  width: 100%;\n  text-align: right;\n  margin-bottom: 4px;\n`;\n\nconst WidgetTitle = styled.span`\n  font-weight: 600;\n  font-size: 16px;\n`;\n\nconst WidgetDescription = styled.div`\n  line-height: 20px;\n`;\n\nconst Event = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 10px;\n  min-height: 96px;\n  padding: 16px;\n  border: 1px solid ${({ theme }) => theme.colors.ui_40.regular};\n  border-radius: 8px;\n  font-size: 16px;\n  font-weight: 600;\n`;\n\nconst MainInfo = styled.div`\n  display: flex;\n  width: 100%;\n  flex-direction: row;\n  align-items: center;\n  gap: 16px;\n  flex-wrap: wrap;\n`;\n\nconst EventTitle = styled.div`\n  max-width: 220px;\n  text-wrap: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst Details = styled.div`\n  display: flex;\n  width: 100%;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  gap: 16px;\n  font-size: 11px;\n\n  a {\n    font-size: 14px;\n    color: ${({ theme }) => theme.colors.grape_120.regular};\n    line-height: 0;\n  }\n\n  & > div {\n    display: flex;\n    gap: 16px;\n\n    & > * {\n      cursor: pointer;\n\n      &:hover {\n        path {\n          fill: ${({ theme }) => theme.colors.accent.regular};\n        }\n      }\n    }\n  }\n`;\n\nconst Label = styled.div`\n  letter-spacing: 0.04em;\n  text-transform: uppercase;\n`;\n\nconst Time = styled.div`\n  font-family: GT Haptik, sans-serif;\n  font-style: normal;\n  font-weight: 700;\n  font-size: 24px;\n  white-space: nowrap;\n`;\n","import * as React from 'react';\nimport styled from '@emotion/styled';\nimport { FormattedMessage, defineMessages } from 'react-intl';\nimport SettingsIcon from '@ui/icons/SettingsIcon';\nimport Browser from 'webextension-polyfill';\n\nconst messages = defineMessages({\n  webappLink: {\n    id: 'newTab.links.webappLink',\n    defaultMessage: 'Go to web app',\n  },\n  reportsLink: {\n    id: 'newTab.links.reportsLink',\n    defaultMessage: 'Reports',\n  },\n  extensionSettings: {\n    id: 'newTab.links.extensionSettings',\n    defaultMessage: 'Extension Settings',\n  },\n  kbLink: {\n    id: 'newTab.links.kbLink',\n    defaultMessage: 'Knowledge Base',\n  },\n});\n\nexport function Links() {\n  return (\n    <Root>\n      <Entry\n        target='_blank'\n        href='https://track.toggl.com/timer?utm_source=toggl-button&utm_medium=referral'\n        rel='noreferrer'\n        data-heap-id='extension:ntp-to-webapp'\n      >\n        <FormattedMessage {...messages.webappLink} />\n      </Entry>\n      <Entry\n        target='_blank'\n        href='https://track.toggl.com/reports/summary/'\n        rel='noreferrer'\n        data-heap-id='extension:ntp-to-reports'\n      >\n        <FormattedMessage {...messages.reportsLink} />\n      </Entry>\n      <Entry\n        target='_blank'\n        href={Browser.runtime.getURL('settings.html')}\n        rel='noreferrer'\n      >\n        <SettingsIcon />\n        <FormattedMessage {...messages.extensionSettings} />\n      </Entry>\n      <Entry\n        target='_blank'\n        href='https://support.toggl.com/en/articles/2206984-toggl-track-browser-extension'\n        rel='noreferrer'\n      >\n        <FormattedMessage {...messages.kbLink} />\n      </Entry>\n    </Root>\n  );\n}\n\nconst Root = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 20px;\n  color: ${({ theme }) => theme.colors.pale_peach.regular};\n  font-size: 14px;\n  margin-left: auto;\n  z-index: 100000;\n`;\n\nconst Entry = styled.a`\n  display: flex;\n  gap: 12px;\n  cursor: pointer;\n  color: ${({ theme }) => theme.colors.pale_peach.regular};\n  text-decoration: none;\n\n  &:hover {\n    color: ${({ theme }) => theme.colors.pale_peach.hover};\n\n    svg path {\n      fill: ${({ theme }) => theme.colors.pale_peach.hover};\n    }\n  }\n`;\n","import { css, keyframes, useTheme } from '@emotion/react';\nimport * as React from 'react';\n\nexport default React.memo(function Background({\n  className,\n}: {\n  className?: string;\n}) {\n  const theme = useTheme();\n\n  return (\n    <svg\n      xmlns='http://www.w3.org/2000/svg'\n      fill='none'\n      viewBox='0 0 1440 1024'\n      preserveAspectRatio='none'\n      className={className}\n    >\n      <clipPath id='a'>\n        <path d='M0 0h1440v1024H0z' />\n      </clipPath>\n      <g clipPath='url(#a)'>\n        <path fill={theme.colors.ui.regular} d='M0 0h1440v1024H0z' />\n        <g fill={theme.colors.ui_90.regular}>\n          <g css={floatingStyles()}>\n            <circle cx={151.5} cy={526.5} r={65.5} />\n          </g>\n          <path\n            css={floatingStyles()}\n            fillRule='evenodd'\n            d='M1502.85 965.691c125.28 0 226.84-101.562 226.84-226.846 0-125.283-101.56-226.845-226.84-226.845C1377.56 512 1276 613.562 1276 738.845c0 125.284 101.56 226.846 226.85 226.846zM239.887 289.214c109.29 0 197.887-88.696 197.887-198.107C437.774-18.305 349.177-107 239.887-107S42-18.305 42 91.107c0 109.411 88.597 198.107 197.887 198.107zm0-100.892c53.631 0 97.107-43.525 97.107-97.215 0-53.691-43.476-97.216-97.107-97.216s-97.108 43.525-97.108 97.216c0 53.69 43.477 97.215 97.108 97.215z'\n            clipRule='evenodd'\n          />\n          <rect\n            css={floatingStyles()}\n            width={203.569}\n            height={199.611}\n            rx={8}\n            transform='rotate(28.374 583.346 2449.1) skewX(-.025)'\n          />\n          <rect\n            css={floatingStyles()}\n            width={89.11}\n            height={89.851}\n            rx={8}\n            transform='rotate(-13.739 3689.184 -978.733) skewX(-.025)'\n          />\n          <path\n            css={floatingStyles()}\n            d='M788.043 860.6c-7.314-2.403-9.284-11.822-3.546-16.954l232.263-207.758c5.73-5.132 14.87-2.129 16.45 5.406L1097 946.315c1.58 7.535-5.59 13.95-12.9 11.547zm192.971-723.111c-3.565 1.449-7.363-1.504-6.836-5.317l11.449-82.806c.527-3.812 4.984-5.625 8.022-3.262l65.991 51.318c3.04 2.363 2.38 7.129-1.19 8.579z'\n          />\n          <path\n            css={floatingStyles()}\n            fillRule='evenodd'\n            d='M250.417 846.111c1.673-.645 2.526-2.512 1.88-4.185-30.691-79.429-120.004-119.002-199.488-88.388-79.483 30.613-119.037 119.819-88.346 199.248.68 1.76 2.664 2.611 4.425 1.931l67.016-25.852c1.705-.658 2.51-2.603 1.852-4.308-15.06-38.978 4.35-82.753 43.354-97.776 39.004-15.023 82.832 4.397 97.893 43.374.643 1.664 2.502 2.541 4.167 1.898zM1304.56 444.09c-.31.641-.05 1.413.59 1.721 30.45 14.638 67.03 1.83 81.7-28.609 14.68-30.438 1.89-66.98-28.55-81.618a1.361 1.361 0 0 0-1.81.643l-12.36 25.676c-.31.654-.02 1.435.63 1.749 14.94 7.183 21.22 25.115 14.02 40.052s-25.15 21.222-40.09 14.039c-.64-.307-1.42-.055-1.72.582z'\n            clipRule='evenodd'\n          />\n        </g>\n        <g css={floatingStyles()} filter='url(#a)' />\n      </g>\n    </svg>\n  );\n});\n\nconst floatingAnimation = keyframes`\n  0% {\n    scale: 1;\n    rotate: 0deg;\n    translate: 0 0;\n  }\n\n  50% {\n    scale: 1.4;\n    rotate: 20deg;\n    translate: 10px 10px;\n  }\n\n  100% {\n    scale: 1;\n    rotate: 0deg;\n    translate: 0 0;\n  }\n`;\n\nconst floatingStyles = () => css`\n  @media (prefers-reduced-motion: no-preference) {\n    animation: ${floatingAnimation} ${Math.round(40 + Math.random() * 100)}s\n      ease-in-out infinite;\n  }\n\n  animation-delay: ${Math.round(Math.random() * -200)}s;\n  animation-direction: ${Math.random() > 0.5\n    ? 'alternate'\n    : 'alternate-reverse'};\n  transform-origin: center;\n`;\n","import * as React from 'react';\nimport styled from '@emotion/styled';\nimport { DateTime } from 'luxon';\n\nimport { FormattedMessage, defineMessages } from 'react-intl';\n\ntype Props = {\n  username: string | undefined;\n};\n\nconst messages = defineMessages({\n  morningGreeting: {\n    id: 'newTab.morningGreeting',\n    defaultMessage: `Good morning, <em>{name}</em>`,\n  },\n  afternoonGreeting: {\n    id: 'newTab.afternoonGreeting',\n    defaultMessage: `Good afternoon, <em>{name}</em>`,\n  },\n  eveningGreeting: {\n    id: 'newTab.eveningGreeting',\n    defaultMessage: `Good evening, <em>{name}</em>`,\n  },\n  nightGreeting: {\n    id: 'newTab.nightGreeting',\n    defaultMessage: `Good night, <em>{name}</em>`,\n  },\n});\n\nconst getTimeOfDay = (now: DateTime) => {\n  const hours = now.get('hour');\n\n  switch (true) {\n    case hours >= 5 && hours < 12:\n      return messages.morningGreeting;\n    case hours >= 12 && hours < 18:\n      return messages.afternoonGreeting;\n    case hours >= 18 && hours < 22:\n      return messages.eveningGreeting;\n    case hours >= 22 && hours < 5:\n      return messages.nightGreeting;\n    default:\n      return messages.nightGreeting;\n  }\n};\n\nexport function Greeting({ username }: Props) {\n  const greeting = getTimeOfDay(DateTime.now());\n\n  return (\n    <Root>\n      <FormattedMessage\n        {...greeting}\n        values={{\n          em: chunks => <em>{chunks}</em>,\n          name: username ?? 'Stranger',\n        }}\n      />\n    </Root>\n  );\n}\n\nconst Root = styled.div`\n  font-family: GT Haptik, sans-serif;\n  font-weight: 700;\n  font-size: 45px;\n  line-height: 160%;\n  color: ${({ theme }) => theme.colors.pale_peach.regular};\n\n  em {\n    font-family: GT Haptik Rotalic, sans-serif;\n    font-style: none;\n  }\n`;\n","import * as React from 'react';\nimport styled from '@emotion/styled';\nimport { LoginPage } from '@src/pages/login/Login';\n\nimport { FormattedMessage, defineMessages } from 'react-intl';\n\nconst messages = defineMessages({\n  heading: {\n    id: 'newTab.login.heading',\n    defaultMessage:\n      'Click the button below to log in — so we can put a name to this lovely screen!',\n  },\n});\n\nexport const LoginWidget = () => {\n  return (\n    <Root>\n      <LoginPage\n        hideSignup\n        hideHeading\n        customSubheading={\n          <FormattedMessage {...messages.heading} tagName={Heading} />\n        }\n      />\n    </Root>\n  );\n};\n\nconst Root = styled.div`\n  border-radius: 12px;\n  padding: 10px;\n  background-color: #fdece5;\n  width: 100%;\n\n  & > div {\n    background-color: #fdece5;\n  }\n`;\n\nconst Heading = styled.div`\n  font-weight: 500;\n  font-size: 16px;\n`;\n","import * as React from 'react';\nimport { useTheme } from '@emotion/react';\nimport styled from '@emotion/styled';\nimport { FormattedMessage, defineMessages } from 'react-intl';\nimport { CrossIcon } from '@src/ui/icons/CrossIcon';\n\nconst messages = defineMessages({\n  surveyMessage: {\n    id: 'newTab.surveyMessage',\n    defaultMessage: `Help us improve this page. Take a quick survey.`,\n  },\n});\n\nexport function SurveyBanner({ onClose }: { onClose: () => void }) {\n  const theme = useTheme();\n\n  return (\n    <Root\n      href='https://toggl.typeform.com/to/ozhpbHyC'\n      target='_blank'\n      rel='noreferrer'\n    >\n      <FormattedMessage {...messages.surveyMessage} />\n      <CrossIcon\n        color={theme.colors.ui_50.regular}\n        onClick={e => {\n          e.preventDefault();\n          onClose();\n        }}\n      />\n    </Root>\n  );\n}\n\nconst Root = styled.a`\n  display: flex;\n  padding: 12px;\n  justify-content: center;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: 22px;\n  background-color: ${({ theme }) => theme.colors.ui_90.regular};\n  color: #fde5dc;\n\n  font-size: 14px;\n  text-decoration: none;\n`;\n","import * as React from 'react';\nimport styled from '@emotion/styled';\nimport Logo from '@ui/icons/Logo';\nimport { css, useTheme } from '@emotion/react';\nimport * as userService from '@src/services/user';\n\nimport { ExtensionContext, useContextState } from '@src/context';\nimport { TimerWidget } from './widgets/TimerWidget';\nimport { Clock } from './widgets/Clock';\nimport { RecentlyTracked } from './widgets/RecentlyTracked';\nimport { CalendarEvents } from './widgets/CalendarEvents';\nimport { Links } from './widgets/Links';\nimport Background from './Background';\nimport { Greeting } from './components/Greeting';\nimport { LoginWidget } from './widgets/LoginWidget';\nimport { SurveyBanner } from './components/SurveyBanner';\nimport { SpinningLoadingIcon } from '@src/ui/icons/LoadingIcon';\nimport '@src/lib/heap';\nimport useSetting from '@src/lib/hooks/useSetting';\n\nexport const NewTab = () => {\n  const theme = useTheme();\n  const { data: user, refetch, isFetching, isLoading } = userService.useUser();\n  const state = useContextState();\n  const [loading, setLoading] = React.useState(true);\n  const [isSurveyShown, setSurveyShown] = useSetting('surveyNTPTaken');\n\n  React.useEffect(() => {\n    refetch();\n  }, []);\n\n  React.useEffect(() => {\n    // React query loading states returns false on the first render...\n    if (!isFetching && !isLoading) setLoading(false);\n  }, [isLoading, isFetching]);\n\n  return (\n    <ExtensionContext.Provider value={state}>\n      <Root>\n        <FullpageBackground />\n        {!loading ? (\n          <>\n            <Links />\n            <Content>\n              <div\n                css={css`\n                  grid-column: span 3;\n                `}\n              >\n                <Greeting username={user?.fullname} />\n              </div>\n              {!user ? (\n                <Widget\n                  css={css`\n                    grid-column: span 3;\n                  `}\n                >\n                  <LoginWidget />\n                </Widget>\n              ) : (\n                <>\n                  <Widget\n                    css={css`\n                      grid-row: 2 / span 2;\n                    `}\n                  >\n                    <Clock />\n                  </Widget>\n                  <Widget\n                    css={css`\n                      grid-column: 2 / span 2;\n                      width: 100%;\n\n                      & > div > div,\n                      input#timerDescription {\n                        background-color: #fdece5;\n                        box-shadow: none;\n                      }\n                    `}\n                  >\n                    <TimerWidget />\n                  </Widget>\n                  <Widget\n                    css={css`\n                      grid-row: 3 / span 2;\n                    `}\n                  >\n                    <RecentlyTracked />\n                  </Widget>\n                  <Widget\n                    css={css`\n                      grid-row: 3 / span 2;\n                    `}\n                  >\n                    <CalendarEvents />\n                  </Widget>\n                </>\n              )}\n            </Content>\n          </>\n        ) : (\n          <LoadingContainer>\n            <SpinningLoadingIcon size={64} color={theme.colors.ui_50.regular} />\n          </LoadingContainer>\n        )}\n        {!isSurveyShown && (\n          <SurveyContainer>\n            <SurveyBanner onClose={() => setSurveyShown(true)} />\n          </SurveyContainer>\n        )}\n\n        <Logo\n          css={css`\n            position: absolute;\n            bottom: 32px;\n            left: 32px;\n          `}\n        />\n      </Root>\n    </ExtensionContext.Provider>\n  );\n};\n\nconst Root = styled.div`\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n  padding: 20px 40px;\n  color: ${({ theme }) => theme.colors.ui.regular};\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n`;\n\nconst Content = styled.div`\n  display: grid;\n  grid-template-columns: 350px 350px minmax(350px, 500px);\n  grid-template-rows: 72px 130px 200px 1fr;\n  gap: 32px;\n  overflow: auto;\n  width: 100%;\n  z-index: 10;\n  max-width: 1240px;\n  height: 100%;\n  padding: 0px 40px;\n\n  @media (min-width: 1460px) {\n    align-self: center;\n    width: auto;\n  }\n`;\n\nconst Widget = styled.div`\n  height: fit-content;\n`;\n\nconst FullpageBackground = styled(Background)`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  min-width: 100vw;\n  min-height: 100vh;\n`;\n\nconst LoadingContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  background-color: ${({ theme }) => theme.colors.surface_primary.regular};\n`;\n\nconst SurveyContainer = styled.div`\n  position: absolute;\n  bottom: 32px;\n  left: calc(50% - 200px);\n  z-index: 99999;\n`;\n","import * as React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { RawIntlProvider } from 'react-intl';\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\n\nimport { NewTab } from './NewTab';\nimport intl from '@src/lib/intl';\n\nimport { PersistQueryClientProvider } from '@tanstack/react-query-persist-client';\nimport { queryClient, persister } from '@src/lib/queryClient';\nimport { AppThemeProvider } from '@src/components/AppThemeProvider';\n\nfunction init() {\n  const rootContainer = document.querySelector('#__root');\n  if (!rootContainer) throw new Error(\"Can't find Popup root element\");\n  const root = createRoot(rootContainer);\n  root.render(\n    <PersistQueryClientProvider\n      client={queryClient}\n      persistOptions={{ persister }}\n    >\n      <RawIntlProvider value={intl}>\n        <AppThemeProvider enforceColorScheme='light'>\n          <NewTab />\n        </AppThemeProvider>\n      </RawIntlProvider>\n      <ReactQueryDevtools initialIsOpen={false} />\n    </PersistQueryClientProvider>\n  );\n}\n\ninit();\n"],"names":["TimerWidget","StyledTimer","styled","Timer","ContinueIcon","props","Wrapper","_jsx","Target","span","theme","colors","ui","regular","accent","div","WidgetDescription","scrollbarStyle","css","surface_primary","ui_60","Todos","todos","setTodos","React","useState","queryClient","useQueryClient","user","useExtensionContext","mutate","startEntry","useMutation","entry","timeEntryService","type","onMutate","previousEntries","setQueryData","old","newEntries","assign","id","onError","err","_","context","errorReport","onSuccess","track","entries","startTimer","e","description","preventDefault","start","Date","at","toISOString","duration","parseInt","getTime","toFixed","tags","tag_ids","workspace_id","default_workspace_id","Db","get","loadedTodos","getLocal","parsedTodos","JSON","parse","filteredTodos","Object","values","reduce","acc","todo","todoDate","DateTime","fromISO","created_at","today","now","diff","days","complete","setLocal","stringify","NewTabOnboardingTasks","set","keys","length","addTodo","text","oldTodos","todosIds","Number","sort","toISO","toggleTodo","index","Root","AddTodo","a","map","Checkbox","onAddTodo","setText","useTheme","AddIcon","ui_50","TextInput","target","value","form","ui_40","input","Clock","time","setTime","timerId","setInterval","clearInterval","_jsxs","toFormat","Week","Time","toLocaleString","TIME_SIMPLE","messages","defineMessages","title","defaultMessage","placeholder","MOUSEOVER_TIMEOUT","isPropValuesEqual","subject","propNames","every","propName","toLowerCase","getUniqueItemsByProperties","items","filter","item","array","findIndex","foundItem","RecentlyTracked","timeEntries","workspaces","refetchEntries","timeEntriesToShow","setTimeEntriesToShow","data","projects","projectService","tasks","clients","te","billable","task_id","project_id","filteredTimeEntries","stop","timeEntriesWithoutArchivedProjects","active","reverse","slice","handleTimeEntryClick","timeEntry","FormattedMessage","Title","_Fragment","AutocompleteItem","client_id","EmptyStateRoot","br","project","client","showClient","workspace","onClick","isHovered","setIsHovered","elementRef","closureTimeout","ItemsContainer","Item","clearTimeout","setTimeout","color","undefined","DescriptionLabel","ProjectLabel","name","ClientLabel","StyledTETooltip","li","bgColor","hue","lightness","saturation","parseToHsl","surface_secondary","hslToColorString","tooltip","normal","TETooltip","fetchTodayEvents","sendMessage","fetchCalendarIntegrations","useTodayCalendarEvents","useQuery","useCalendarIntegrations","link","noCalendarIntegrationsTitle","noCalendarIntegrationsDescription","noCalendarIntegrationsButton","CalendarEvents","todaysEvents","calendarService","calendarIntegrations","EventsContainer","event","CalendarEvent","calendar_event_id","NoCalendarIntegrations","WidgetTitle","PrimaryButton","Browser","tabs","create","url","startTime","start_time","end_time","normalize","hours","minutes","prettyTime","Event","MainInfo","EventTitle","Details","Label","html_link","ExternalLinkBoxedIcon","grape_120","webappLink","reportsLink","extensionSettings","kbLink","Links","Entry","runtime","getURL","SettingsIcon","pale_peach","hover","Background","className","ui_90","floatingStyles","floatingAnimation","keyframes","Math","round","random","morningGreeting","afternoonGreeting","eveningGreeting","nightGreeting","getTimeOfDay","Greeting","username","greeting","em","chunks","heading","LoginWidget","LoginPage","Heading","surveyMessage","SurveyBanner","onClose","CrossIcon","NewTab","refetch","isFetching","isLoading","userService","state","useContextState","loading","setLoading","isSurveyShown","setSurveyShown","useSetting","ExtensionContext","FullpageBackground","LoadingContainer","SpinningLoadingIcon","Content","fullname","Widget","SurveyContainer","Logo","init","rootContainer","document","querySelector","Error","createRoot","render","PersistQueryClientProvider","persister","RawIntlProvider","intl","AppThemeProvider","ReactQueryDevtools"],"mappings":"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"}